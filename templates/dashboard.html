{% extends "base.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<div class="container mt-4">

    <!-- Form to add new task -->
    <form method="POST" class="mb-4">
        <div class="input-group">
            <input type="text" name="title" class="form-control" placeholder="New Task" required>
            <button type="submit" class="btn btn-primary">Add Task</button>
        </div>
    </form>

    <!-- List of tasks -->
    <h3>Your Tasks</h3>
    <ul class="list-group" id="task-list">
        {% for task in tasks %}
        <li class="list-group-item d-flex justify-content-between align-items-center" data-task-id="{{ task.id }}">
            <div>
                {{ task.title }}
                {% if task.completed %}
                    <span class="badge bg-success ms-2">Done</span>
                {% endif %}
            </div>
            <div>
                <!-- Complete / Edit / Delete buttons -->
                {% if not task.completed %}
                <button class="btn btn-sm btn-success complete-btn">âœ”</button>
                <button class="btn btn-sm btn-warning edit-btn">âœŽ</button>
                {% endif %}
                <button class="btn btn-sm btn-danger delete-btn">ðŸ—‘</button>
            </div>
        </li>
        {% endfor %}
    </ul>

</div>
<script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
<script src="{{ url_for('static', filename='js/timer.js') }}"></script>
{% endblock %}
