{% extends "base.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<div class="container mt-4">

    <!-- Form to add new task -->
    <form method="POST" class="mb-3">
        <div class="mb-2">
            <input type="text" name="title" class="form-control" placeholder="Task Title" required>
        </div>
        <div class="mb-2">
            <textarea name="description" class="form-control" placeholder="Task Description"></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Add Task</button>
    </form>

    <!-- List of tasks -->
    <h3>Your Tasks</h3>
    <ul class="list-group" id="task-list">
        {% for task in tasks %}
        <li class="list-group-item d-flex justify-content-between align-items-center" data-task-id="{{ task.id }}">
            <div>
                <strong class="fs-5 text-break">{{ task.title }}:</strong>

                {{ task.description }}

                {% if task.completed %}
                    <span class="badge bg-success ms-2">Done</span>
                {% endif %}
            </div>
            <div>
                <!-- Complete / Edit / Delete buttons -->
                {% if not task.completed %}
                <button class="btn btn-sm btn-success complete-btn">âœ”</button>
<a href="{{ url_for('action.edit_task', task_uuid=task.uuid) }}" class="btn btn-sm btn-outline-warning">Edit</a>

                {% endif %}
                <button class="btn btn-sm btn-danger delete-btn">ðŸ—‘</button>
            </div>
        </li>
        {% endfor %}
    </ul>

</div>

{% endblock %}
